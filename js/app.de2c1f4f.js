(function(e){function t(t){for(var o,a,s=t[0],c=t[1],u=t[2],f=0,h=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-snake/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2c82":function(e,t,n){},"3cf5":function(e,t,n){"use strict";n("dd38")},"46c2":function(e,t,n){"use strict";n("2c82")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,i,a){var s=Object(o["j"])("Grid");return Object(o["f"])(),Object(o["c"])(s)}var i=Object(o["l"])("data-v-2f1350f9");Object(o["h"])("data-v-2f1350f9");var a={id:"snake-grid"},s={class:"overlay"},c={key:0},u={key:1};Object(o["g"])();var d=i((function(e,t,n,r,i,d){var f=Object(o["j"])("snakeSegment"),h=Object(o["j"])("foodElement");return Object(o["f"])(),Object(o["c"])("div",a,[Object(o["e"])("div",s,[i.gameRunning?i.gameRunning?(Object(o["f"])(),Object(o["c"])("span",u,"Score: "+Object(o["k"])(i.score),1)):Object(o["d"])("",!0):(Object(o["f"])(),Object(o["c"])("span",c,Object(o["k"])(i.gameOver?"You reached a score of ".concat(i.score,"! Press Enter to restart"):"Press a Arrow Key to start"),1))]),(Object(o["f"])(!0),Object(o["c"])(o["a"],null,Object(o["i"])(i.snakeBody,(function(e,t){return Object(o["f"])(),Object(o["c"])(f,{key:t,x:e.x,y:e.y,isHead:0===t},null,8,["x","y","isHead"])})),128)),Object(o["e"])(h,{x:i.food.x,y:i.food.y},null,8,["x","y"])])})),f=(n("45fc"),n("5530"));function h(e,t,n,r,i,a){return Object(o["f"])(),Object(o["c"])("div",{id:"snake-segment",class:n.isHead?"head":"food",style:{gridRowStart:n.y,gridColumnStart:n.x}},null,6)}n("a9e3");var y={props:{x:{type:Number,requiered:!0},y:{type:Number,requiered:!0},isHead:{type:Boolean,default:!1}}};n("46c2");y.render=h;var p=y;function l(e,t,n,r,i,a){return Object(o["f"])(),Object(o["c"])("div",{id:"food-element",style:{gridRowStart:n.y,gridColumnStart:n.x}},null,4)}var b={props:{x:{type:Number,requiered:!0},y:{type:Number,requiered:!0}}};n("3cf5");b.render=l;var g=b,m=0,k={x:0,y:0},v={x:0,y:0},O=21,j=1,x=0,S={name:"Grid",components:{snakeSegment:p,foodElement:g},data:function(){return{request:"",gameRunning:!1,snakeSpeed:4,snakeBody:[{x:11,y:11}],food:{},score:0,gameOver:!1}},created:function(){this.food=this.getRandomFoodPosition(),window.addEventListener("keydown",this.onKey)},methods:{gameStart:function(){this.gameRunning=!0,this.gameLoop()},gameStop:function(){this.gameRunning=!1,cancelAnimationFrame(this.request)},gameReset:function(){this.score=0,this.snakeSpeed=4,this.snakeBody=[{x:11,y:11}],this.food=this.getRandomFoodPosition(),this.gameOver=!1,m=0,k={x:0,y:0},v={x:0,y:0}},gameLoop:function(e){if(this.gameOver)return this.gameStop();this.request=requestAnimationFrame(this.gameLoop);var t=(e-m)/1e3;t<1/this.snakeSpeed||(m=e,this.updateSnake(),this.updateFood(),this.checkDeath())},updateSnakeSpeed:function(){this.snakeSpeed=this.snakeSpeed+.25},updateSnake:function(){this.addSegments(),v=k;for(var e=k,t=this.snakeBody.length-2;t>=0;t--)this.snakeBody[t+1]=Object(f["a"])({},this.snakeBody[t]);this.snakeBody[0].x+=e.x,this.snakeBody[0].y+=e.y},onSnake:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.ignoreHead,r=void 0!==o&&o;return this.snakeBody.some((function(n,o){return(!r||0!==o)&&t.equalPositions(n,e)}))},equalPositions:function(e,t){return e.x===t.x&&e.y===t.y},addSegments:function(){for(var e=0;e<x;e++)this.snakeBody.push(Object(f["a"])({},this.snakeBody[this.snakeBody.length-1]));x=0},updateFood:function(){this.onSnake(this.food)&&(x+=j,this.score+=5*j,this.food=this.getRandomFoodPosition(),this.updateSnakeSpeed())},getRandomFoodPosition:function(){var e;while(null==e||this.onSnake(e))e=this.randomGridPosition();return e},randomGridPosition:function(){return{x:Math.floor(Math.random()*O)+1,y:Math.floor(Math.random()*O)+1}},checkDeath:function(){this.gameOver=this.outsideGrid(this.snakeBody[0])||this.snakeIntersection()},outsideGrid:function(e){return e.x<1||e.x>O||e.y<1||e.y>O},snakeIntersection:function(){return this.onSnake(this.snakeBody[0],{ignoreHead:!0})},onKey:function(e){if(this.gameRunning)switch(e.key){case"ArrowUp":if(0!==v.y)break;k={x:0,y:-1};break;case"ArrowDown":if(0!==v.y)break;k={x:0,y:1};break;case"ArrowLeft":if(0!==v.x)break;k={x:-1,y:0};break;case"ArrowRight":if(0!==v.x)break;k={x:1,y:0};break}else this.gameOver&&"Enter"===e.key?this.gameReset():(this.gameRunning||this.gameOver||"ArrowUp"!==e.key)&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(this.gameStart(),this.onKey(e))}}};n("ac6e");S.render=d,S.__scopeId="data-v-2f1350f9";var w=S,P={name:"App",components:{Grid:w},data:function(){return{}}};n("64be");P.render=r;var R=P;Object(o["b"])(R).mount("#app")},"64be":function(e,t,n){"use strict";n("c894")},"75f9":function(e,t,n){},ac6e:function(e,t,n){"use strict";n("75f9")},c894:function(e,t,n){},dd38:function(e,t,n){}});
//# sourceMappingURL=app.de2c1f4f.js.map